(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{478:function(s,n,a){"use strict";a.r(n);var e=a(51),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"项目实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目实践"}},[s._v("#")]),s._v(" 项目实践")]),s._v(" "),a("h2",{attrs:{id:"vue-config-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-config-js"}},[s._v("#")]),s._v(" vue.config.js")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    baseUrl:'',                 //从 Vue CLI 3.3 起已弃用，请使用publicPath。\n    publicPath:'/',             //项目前置路径,用法和 webpack 本身的 output.publicPath 一致\n    lintOnSave:'',              //每次保存代码是否要通过lint检测  boolean | 'warning' | 'default' | 'error'\n\n    \x3c!-- 打包相关 --\x3e\n    outputDir:'dist',           //打包文件输出目录,用法和 webpack 的 output.path一致\n    assetsDir:'',               //打包文件中放置静态资源的目录css、img、font等\n    indexPath:'index.html',     //制定生成的index.html生成路径\n    filenameHashing:true,       //文件名hash，改为false即关闭\n\n\n    devServer:{\n        port:8088,              //默认端口\n        proxy: {                //接口代理服务\n            [process.env.VUE_APP_BASE_API]: {,\n                target: ``,\n                changeOrigin: true,\n                pathRewrite: {\n                    ['^' + process.env.VUE_APP_BASE_API]: ''\n                }\n            }\n        },\n    },\n\n    \x3c!-- webpack相关 --\x3e\n    configureWebpack:{},        //因为vuecli3中已经不能直接修改webpack配置，所以需要通过这个属性\n    chainWebpack：{             //链式操作，可以更细粒度控制webpack内部配置。\n        name: '项目名称',\n        resolve: {\n            alias: {\n                '@': resolve('src')\n            }\n        }\n    },           \n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br")])]),a("h3",{attrs:{id:"小知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小知识"}},[s._v("#")]),s._v(" 小知识")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("查看webpack默认配置  "),a("code",[s._v("vue inspect")]),s._v("  只查看规则配置"),a("code",[s._v("vue inspect --rules")]),s._v(" 查看某一项具体规则"),a("code",[s._v("vue inspect --rule 名称(例如svg)")]),a("br"),s._v(" "),a("img",{attrs:{src:"/assets/img/vueConfig1.jpg",width:"350",height:"200",align:"middle"}}),s._v(" "),a("img",{attrs:{src:"/assets/img/vueConfig2.jpg",width:"350",height:"200",align:"middle"}})])]),s._v(" "),a("li",[a("p",[s._v("lodash插值语法")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//在根目录的index.html中使用configureWebpack的name属性\n<title><%= webpackConfig.name %></title>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("chainWebpack范例:svg icon引入")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("下载图标，存入src/icons/svg中")])]),s._v(" "),a("li",[a("p",[s._v("安装依赖：svg-sprite-loader"),a("br"),s._v(" "),a("code",[s._v("npm i svg-sprite-loader -D")])])]),s._v(" "),a("li",[a("p",[s._v("修改规则和新增规则")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//vue.config.js中\n// resolve定义一个绝对路径获取函数 \nconst path = require('path')\nfunction resolve(dir) {\n    return path.join(__dirname, dir)\n}\n//... \nchainWebpack(config) {\n    // 配置svg规则排除icons目录中svg文件处理 \n    // 目标给svg规则增加一个排除选项exclude: ['path/to/icon']\n    config.module.rule(\"svg\").exclude.add(resolve(\"src/icons\"))\n    // 新增icons规则，设置svg-sprite-loader处理icons目录中的svg \n    config.module.rule('icons')\n    .test(/\\.svg$/)\n    .include.add(resolve('./src/icons')).end()\n    .use('svg-sprite-loader')\n    .loader('svg-sprite-loader')\n    .options({ symbolId: 'icon-[name]' })\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("ul",[a("li",[s._v("组件中使用")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<template>\n  <svg>\n    <use xlink:href=\"#icon-wx\" />\n  </svg>\n</template> \n<script> \n  import '@/icons/svg/wx.svg' \n  export default {}\n<\/script>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[s._v("由于项目中的icon可能过多，我们不能每一个都单独引入，因此需要工程化配置")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//新建src/icons/index.js\n//webpack创建一个以svg目录为上下文的require函数\nconst req = require.context('./svg', false, /\\.svg$/) \n//keys会获取所有的svg文件\nreq.keys().map(req);\n//在main.js中引入该文件 @import '@/icons' \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);